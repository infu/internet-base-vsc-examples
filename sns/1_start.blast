{"cells":[{"kind":1,"language":"markdown","value":"# Let's install NNS locally! ☕\n\nMake sure you have the latest DFX installed. This guide was made with dfx 0.13.1\n```\nsh -ci \"$(curl -fsSL https://internetcomputer.org/install.sh)\"\n```\n\n```\ndfx start --clean\n```\n\n⚡ In another terminal:\n\n```\ndfx nns install\n```\n\n⚡ If something is misconfigured you will have to\nset `~/.config/dfx/networks.json` to\n```json\n{\n  \"local\": {\n    \"bind\": \"127.0.0.1:8080\",\n    \"type\": \"ephemeral\",\n    \"replica\": {\n      \"subnet_type\": \"system\"\n    }\n  }\n}\n```\n\nYou will see something like this:\n```\nnns-registry          rwlgt-iiaaa-aaaaa-aaaaa-cai\nnns-governance        rrkah-fqaaa-aaaaa-aaaaq-cai\nnns-ledger            ryjl3-tyaaa-aaaaa-aaaba-cai\nnns-root              r7inp-6aaaa-aaaaa-aaabq-cai\nnns-cycles-minting    rkp4c-7iaaa-aaaaa-aaaca-cai\nnns-lifeline          rno2w-sqaaa-aaaaa-aaacq-cai\nnns-genesis-token     renrk-eyaaa-aaaaa-aaada-cai\nnns-identity          rdmx6-jaaaa-aaaaa-aaadq-cai\nnns-ui                qoctq-giaaa-aaaaa-aaaea-cai\nnns-sns-wasm          qaa6y-5yaaa-aaaaa-aaafa-cai\nnns-ic-ckbtc-minter   qjdve-lqaaa-aaaaa-aaaeq-cai\n\nFrontend canisters:\ninternet_identity     http://qhbym-qaaaa-aaaaa-aaafq-cai.localhost:8080/\nnns-dapp              http://qsgjb-riaaa-aaaaa-aaaga-cai.localhost:8080/\n```\n\nYou have just installed all of these locally. Their IC addresses are mostly the same. You can use the IB explorer to browse their interfaces. You will have to select 'local', enter canister-id of your choice and then put Host: http://localhost:8080\n\n## The NNS DAPP\n\n1) ⚡ Open http://qsgjb-riaaa-aaaaa-aaaga-cai.localhost:8080/ and if everything went well you should see your local awesome NNS DAPP!\n2) ⚡ Create Internet Identity account\n3) ⚡ Click 'Get ICP' and pick 10_000 ICP\n4) ⚡ Go to 'Neurons' and create a neuron with 30% of your ICP\n5) ⚡ Run `dfx identity get-wallet`\n6) ⚡ Write your wallet canister id in the box bellow and run it. \n7) ⚡ Run `dfx wallet add-controller ...your principal from the blast bellow...`\n7) ⚡ Add the same wallet canister id as a Hotkey to your neuron.\n6) ⚡ Create another neuron with 50% of your ICP and also join the community fund with it. ( Leave at least 301 ICP in your account )"},{"kind":2,"language":"javascript","value":"log(me)"},{"kind":2,"language":"javascript","value":"\nconst wallet_id = \"qvhpv-4qaaa-aaaaa-aaagq-cai\"; // The reason to use a wallet is to be able to create SNS later, it requires cycles.\n\nlet local = icblast({ identity, local: true, local_host: \"http://localhost:8080\" });\nlet wallet = await local(wallet_id, \"wallet\");\nlet gov = await local(\"rrkah-fqaaa-aaaaa-aaaaq-cai\");\nglobal({local, gov, wallet_id, wallet})"},{"kind":1,"language":"markdown","value":"\n### ⚡ Let's make a motion proposal"},{"kind":2,"language":"javascript","value":"\n\nlet neurons = await walletProxy(wallet, gov).list_neurons({\n    neuron_ids: [],\n    include_neurons_readable_by_caller: true\n});\nlet my_neuron_id = neurons.full_neurons[0].id.id;\n\nlog(my_neuron_id)\n\nglobal({local, gov, my_neuron_id})\n"},{"kind":2,"language":"javascript","value":"// You can open the explorer and create the following request yourself using the call code generator button\nawait walletProxy(wallet, gov).manage_neuron({\n  command:{MakeProposal:{\n    url:\"https://forum.dfinity.org/something\",\n    title:\"My title\",\n    action:{Motion:{\n      motion_text:\"My motion text\"\n      }},\n    summary:\"My proposal summary\"\n    }},\n  neuron_id_or_subaccount:{NeuronId:{\n    id:my_neuron_id\n    }}\n  }).then(log)"},{"kind":1,"language":"markdown","value":"### ⚡ Time to vote!\n\nIf you set this right, your motion proposal will be 'open' and visible inside the NNS DAPP.\n\nIf not your proposal probably already got executed (You can see it by changing the filters)\n\nThat's because when you create a proposal, your neuron automatically votes yes and you've got the only neurons inside your NNS.\n\n"},{"kind":1,"language":"markdown","value":"### ⚡ Great job!\n\nYou've deployed the NNS locally, got free ICP, created 2 neurons and made a proposal.\n\nNext up, we are going to create an SNS DAO!"}]}